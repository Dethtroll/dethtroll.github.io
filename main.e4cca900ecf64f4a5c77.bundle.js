webpackJsonp([0,2],{139:function(t,e,n){"use strict";var r=n(0),o=n(47);n.n(o);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this._isLoggedIn=!1,this.LoggedInSubject=new o.Subject}return Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return this._isLoggedIn},set:function(t){this._isLoggedIn=t,this.LoggedInSubject.next(t)},enumerable:!0,configurable:!0}),t=i([n.i(r.b)(),a("design:paramtypes",[])],t)}()},140:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){void 0===n&&(n=void 0),this.fullName=t,this.email=e,this._id=n}return t}()},213:function(t,e,n){"use strict";var r=n(0),o=n(47);n.n(o);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this._appModeChanged=new o.Subject,this._searchValueChanged=new o.Subject,this._selectedCountChanged=new o.Subject,this._selectAll=new o.Subject,this._selectNone=new o.Subject,this._deleteRequested=new o.Subject,this._navigateBack=new o.Subject}return Object.defineProperty(t.prototype,"appModeChanged",{get:function(){return this._appModeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchValueChanged",{get:function(){return this._searchValueChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedCountChanged",{get:function(){return this._selectedCountChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedAll",{get:function(){return this._selectAll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedNone",{get:function(){return this._selectNone},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteRequested",{get:function(){return this._deleteRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigateBack",{get:function(){return this._navigateBack},enumerable:!0,configurable:!0}),t.prototype.appModeChange=function(t){this._appModeChanged.next(t)},t.prototype.searchValueChange=function(t){return this._searchValueChanged.next(t)},t.prototype.selectedCountChange=function(t){return this._selectedCountChanged.next(t)},t.prototype.selectAllRaise=function(){return this._selectAll.next()},t.prototype.selectNoneRaise=function(){return this._selectNone.next()},t.prototype.deleteRaise=function(){return this._deleteRequested.next()},t.prototype.navigateBackRaise=function(){return this._navigateBack.next()},t=i([n.i(r.b)(),a("design:paramtypes",[])],t)}()},214:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,o){void 0===r&&(r=void 0),void 0===o&&(o=void 0),this.subject=t,this.body=e,this.to=n,this.mailbox=r,this._id=o}return Object.defineProperty(t.prototype,"from",{get:function(){return this.to},enumerable:!0,configurable:!0}),t}()},330:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(495),a=n(139),c=n(75),s=n(213);n.d(e,"a",function(){return f});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,r){this.router=t,this.route=e,this.controlPanel=n,this.authService=r,this.modes=[{id:i.a.Mail,title:"Gmail"},{id:i.a.Contacts,title:"Contacts"}],this.navigateBackAvailable=!1,this.selectManyAvailable=!0,this.deleteAvailable=!1,this.moreActionsAvailable=!1}return t.prototype.ngOnInit=function(){var t=this;this.controlPanel.selectedCountChanged.subscribe(function(e){return t.deleteAvailable=e>0}),this.isLoggedIn=this.authService.isLoggedIn,this.authService.LoggedInSubject.subscribe(function(e){return t.isLoggedIn=e}),this.selectedMode=this.modes[0],this.controlPanel.selectedCountChange(0)},t.prototype.modeChanged=function(t){this.controlPanel.appModeChange(t),t==i.a.Contacts?(this.controlPanel.appModeChange(t),this.router.navigate(["contacts"])):this.router.navigate(["mailbox","58920c6c9de15a250410f6ba"])},t.prototype.selectionChanged=function(t){t?this.controlPanel.selectAllRaise():this.controlPanel.selectNoneRaise()},t.prototype.searchValueEntered=function(t){this.controlPanel.searchValueChange(t)},t=l([n.i(r.G)({selector:"app-root",template:n(669),styles:[n(660)],encapsulation:r.c.None,providers:[c.a,s.a]}),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object,"function"==typeof(f="undefined"!=typeof o.b&&o.b)&&f||Object,"function"==typeof(d="undefined"!=typeof s.a&&s.a)&&d||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object])],t);var e,f,d,p}()},382:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=382},383:function(t,e,n){"use strict";var r=n(507),o=(n.n(r),n(461)),i=n(0),a=n(506),c=n(496);a.a.production&&n.i(i._28)(),n.i(o.a)().bootstrapModule(c.a)},487:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(139);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.authStorageService=t,this.router=e}return t.prototype.ngOnInit=function(){},t.prototype.signIn=function(){this.authStorageService.isLoggedIn=!0,this.router.navigate([""])},t=a([n.i(r.G)({selector:"app-account",template:n(668),styles:[n(659)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof o.a&&o.a)&&s||Object])],t);var e,s}()},488:function(t,e,n){"use strict";var r=n(0),o=n(136),i=n(192),a=n(132),c=n(40),s=n(330),l=n(494),u=n(503),f=n(504),d=n(501),p=n(499),h=n(498),b=n(505),g=n(492),m=n(490),v=n(491),y=n(497),j=n(502),O=n(487),R=n(139),_=n(489);n.d(e,"a",function(){return I});var x=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},w=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C="58920c6c9de15a250410f6ba",P=[{path:"",redirectTo:"/mailbox/"+C,pathMatch:"full"},{path:"login",component:O.a},{path:"mailbox/:mailBoxId",component:d.a,canLoad:[_.a],canActivate:[_.a],canActivateChild:[_.a],children:[{path:"",component:h.a},{path:"new",component:u.a},{path:"view/:letterId",component:f.a}]},{path:"contacts",component:l.a,canLoad:[_.a],canActivate:[_.a],canActivateChild:[_.a]},{path:"**",redirectTo:"/mailbox/"+C}],I=function(){function t(){}return t=x([n.i(r.I)({imports:[o.b,i.d,i.e,a.b,c.c.forRoot(P,{useHash:!0})],declarations:[v.a,y.a,j.a,b.a,f.a,u.a,h.a,p.a,d.a,m.a,g.a,l.a,O.a,s.a],providers:[R.a,_.a],bootstrap:[s.a]}),w("design:paramtypes",[])],t)}()},489:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(139);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.authStorageService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=e.url;return this.checkLogin(n)},t.prototype.canActivateChild=function(t,e){return this.canActivate(t,e)},t.prototype.checkLogin=function(t){return!!this.authStorageService.isLoggedIn||(this.authStorageService.redirectUrl=t,this.router.navigate(["/login"]),!1)},t.prototype.canLoad=function(t){var e="/"+t.path;return this.checkLogin(e)},t=a([n.i(r.b)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof o.a&&o.a)&&s||Object])],t);var e,s}()},490:function(t,e,n){"use strict";var r=n(0),o=n(192),i=n(140),a=n(75);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.contactService=t,this.formBuilder=e,this.contactAdded=new r._7}return t.prototype.ngOnInit=function(){var t="[a-zA-Z0-9_.]+@[a-zA-Z0-9_.]+\\.[a-zA-Z]+";this.addContactForm=this.formBuilder.group({main:this.formBuilder.group({fullname:["",[o.b.required,o.b.minLength(2)]],email:["",[o.b.required,o.b.pattern(t)]]})})},t.prototype.onSubmit=function(t){var e=this,n=t.value,r=t.valid;if(r){var o=new i.a(n.main.fullname,n.main.email);this.contactService.add(o).subscribe(function(t){return e.contactAdded.emit(t)}),this.addContactForm.reset()}},c([n.i(r.C)(),s("design:type",Object)],t.prototype,"contactAdded",void 0),t=c([n.i(r.G)({selector:"app-add-contact",template:n(670),styles:[n(661)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object,"function"==typeof(l="undefined"!=typeof o.c&&o.c)&&l||Object])],t);var e,l}()},491:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.transform=function(t,e){return e&&(t=t.filter(function(t){return t.email.toLowerCase().indexOf(e.toLowerCase())!==-1||t.fullName.toLowerCase().indexOf(e.toLowerCase())!==-1})),t},t=o([n.i(r.J)({name:"contactFilter"}),i("design:paramtypes",[])],t)}()},492:function(t,e,n){"use strict";var r=n(0),o=n(140),i=n(493),a=n(75),c=n(213);n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){this.contacsService=t,this.controlPanel=e,this.filterValue=null}return Object.defineProperty(t.prototype,"selectedCount",{get:function(){return this._selectedCount},set:function(t){this._selectedCount=t,this.controlPanel.selectedCountChange(this._selectedCount)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.contacts=[],this.selectedCount=0,this.contacsService.getAll().subscribe(function(e){var n=new i.a(e.fullName,e.email,e._id);t.addContact(n)}),this._deleteSelectedObservable=this.controlPanel.deleteRequested.subscribe(function(){return t.deleteSelectedRequested()}),this._selectedAllObservable=this.controlPanel.selectedAll.subscribe(function(){return t.selectAllRequested()}),this._selectedNoneObservable=this.controlPanel.selectedNone.subscribe(function(){return t.selectNoneRequested()}),this._searchObservable=this.controlPanel.searchValueChanged.subscribe(function(e){return t.filterValue=e})},t.prototype.ngOnDestroy=function(){this._deleteSelectedObservable.unsubscribe(),this._selectedAllObservable.unsubscribe(),this._selectedNoneObservable.unsubscribe(),this._searchObservable.unsubscribe()},t.prototype.addContact=function(t){this.contacts.push(t)},t.prototype.updateRequested=function(t){var e=this,n=t.value;this.contacsService.update(new o.a(n.newFullName,n.newEmail,n._id)).subscribe(function(t){var n=e.contacts.find(function(e){return e._id==t._id});n.fullName=n.newFullName=t.fullName,n.email=n.newEmail=t.email,n.isEdditing=!1})},t.prototype.selectChanged=function(t){this.selectedCount=this.selectedCount+(t?1:-1)},t.prototype.deleteRequested=function(t){this.deleteContacts([t])},t.prototype.deleteSelectedRequested=function(){var t=this.contacts.filter(function(t){return t.isChecked});this.deleteContacts(t)},t.prototype.deleteContacts=function(t){var e=this;this.contacsService.delete(t).subscribe(function(t){var n=e.contacts.findIndex(function(e){return e._id==t});n>=0&&(e.contacts[n].isChecked&&e.selectedCount--,e.contacts.splice(n,1))})},t.prototype.selectAllRequested=function(){this.contacts.forEach(function(t){return t.isChecked=!0}),this.selectedCount=this.contacts.length},t.prototype.selectNoneRequested=function(){this.contacts.forEach(function(t){return t.isChecked=!1}),this.selectedCount=0},t=s([n.i(r.G)({selector:"app-contact-list",template:n(671),styles:[n(662)]}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object,"function"==typeof(u="undefined"!=typeof c.a&&c.a)&&u||Object])],t);var e,u}()},493:function(t,e,n){"use strict";var r=n(140);n.d(e,"a",function(){return i});var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e,n,r){void 0===r&&(r=void 0),t.call(this,e,n,r),this.newFullName=e,this.newEmail=n}return o(e,t),e.prototype.cancelEdit=function(){this.newFullName=this.fullName,this.newEmail=this.email},e}(r.a)},494:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=o([n.i(r.G)({selector:"app-contacts-book",template:n(672),styles:[n(663)]}),i("design:paramtypes",[])],t)}()},495:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.Mail=0]="Mail",t[t.Contacts=1]="Contacts"}(r||(r={}))},496:function(t,e,n){"use strict";var r=(n(330),n(488));n.d(e,"a",function(){return r.a})},497:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.transform=function(t,e){return e&&(t=t.filter(function(t){return t.subject.toLowerCase().indexOf(e.toLowerCase())!==-1||t.body.toLowerCase().indexOf(e.toLowerCase())!==-1||t.to.toLowerCase().indexOf(e.toLowerCase())!==-1||t.from.toLowerCase().indexOf(e.toLowerCase())!==-1})),t},t=o([n.i(r.J)({name:"mailBoxLettersFilter"}),i("design:paramtypes",[])],t)}()},498:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(96),a=n(213);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n,r){this.route=t,this.router=e,this.letterService=n,this.controlPanel=r,this.filterValue=null}return Object.defineProperty(t.prototype,"selectedCount",{get:function(){return this._selectedCount},set:function(t){this._selectedCount=t,this.controlPanel.selectedCountChange(this._selectedCount)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.selectedCount=0,this.route.params.subscribe(function(e){t.letters=[],void 0!=e.mailBoxId&&t.letterService.getAll(e.mailBoxId).subscribe(function(e){t.letters.push(e)})}),this._deleteSelectedObservable=this.controlPanel.deleteRequested.subscribe(function(){return t.deleteSelectedRequested()}),this._selectedAllObservable=this.controlPanel.selectedAll.subscribe(function(){return t.selectAllRequested()}),this._selectedNoneObservable=this.controlPanel.selectedNone.subscribe(function(){return t.selectNoneRequested()}),this._searchObservable=this.controlPanel.searchValueChanged.subscribe(function(e){return t.filterValue=e})},t.prototype.ngOnDestroy=function(){this._deleteSelectedObservable.unsubscribe(),this._selectedAllObservable.unsubscribe(),this._selectedNoneObservable.unsubscribe(),this._searchObservable.unsubscribe()},t.prototype.viewMessageRequested=function(t){this.router.navigate(["/mailbox",t.mailbox,"view",t._id])},t.prototype.selectChanged=function(t){return this.selectedCount=this.selectedCount+(t?1:-1),!1},t.prototype.deleteRequested=function(t){return this.deleteLetters([t]),!1},t.prototype.deleteSelectedRequested=function(){var t=this.letters.filter(function(t){return t.isChecked});this.deleteLetters(t)},t.prototype.deleteLetters=function(t){var e=this;this.letterService.delete(t).subscribe(function(t){var n=e.letters.findIndex(function(e){return e._id==t});n>=0&&(e.letters[n].isChecked&&e.selectedCount--,e.letters.splice(n,1))})},t.prototype.selectAllRequested=function(){this.letters.forEach(function(t){return t.isChecked=!0}),this.selectedCount=this.letters.length},t.prototype.selectNoneRequested=function(){this.letters.forEach(function(t){return t.isChecked=!1}),this.selectedCount=0},t=c([n.i(r.G)({selector:"app-mail-box-letters-list",template:n(673),styles:[n(664)],encapsulation:r.c.None}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.b&&o.b)&&e||Object,"function"==typeof(l="undefined"!=typeof o.a&&o.a)&&l||Object,"function"==typeof(u="undefined"!=typeof i.a&&i.a)&&u||Object,"function"==typeof(f="undefined"!=typeof a.a&&a.a)&&f||Object])],t);var e,l,u,f}()},499:function(t,e,n){"use strict";var r=n(0),o=n(500),i=n(103);n.n(i);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.listService=t}return t.prototype.ngOnInit=function(){var t=this;this.mailBoxes=[],this.listService.get().subscribe(function(e){return t.mailBoxes.push(e)})},t=a([n.i(r.G)({selector:"app-mail-box-list",template:n(674),providers:[o.a],encapsulation:r.c.None}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},500:function(t,e,n){"use strict";var r=n(0),o=n(132),i=n(5),a=(n.n(i),n(368)),c=(n.n(a),n(103)),s=(n.n(c),n(235)),l=(n.n(s),n(369));n.n(l);n.d(e,"a",function(){return d});var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t){this.http=t}return t.prototype.get=function(){return this.http.get("http://test-api.javascript.ru/v1/dethtroll/mailboxes").map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from(t)}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t=u([n.i(r.b)(),f("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},501:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(96);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){void 0!=e.mailBoxId&&(t.mailboxId=e.mailBoxId)})},t=a([n.i(r.G)({selector:"app-mail-box",template:n(675),providers:[i.a],encapsulation:r.c.None}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.b&&o.b)&&e||Object])],t);var e}()},502:function(t,e,n){"use strict";var r=n(0),o=n(47),i=(n.n(o),n(103)),a=(n.n(i),n(684)),c=(n.n(a),n(234)),s=(n.n(c),n(688)),l=(n.n(s),n(686)),u=(n.n(l),n(687)),f=(n.n(u),n(75));n.d(e,"a",function(){return h});var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e){var n=this;this.viewContainerRef=t,this.contactsService=e,this.typeaheadVisible=!1,this.searchData=new o.Subject,this.ngModelChange=new r._7(!1),this.searchData.debounceTime(300).distinctUntilChanged().subscribe(function(t){t=(t||"").trim(),t.length>2?n.contactsService.find(t,5).subscribe(function(t){n.items=t,n.typeaheadVisible=t.length>0}):(n.items=[],n.typeaheadVisible=!1)})}return t.prototype.oninput=function(t){this.searchData.next(t.target.value)},t.prototype.selectItem=function(t){this.viewContainerRef.nativeElement.value=t,this.ngModelChange.emit(t),this.searchData.next(void 0)},t.prototype.ngAfterViewInit=function(){var t=this.viewContainerRef.nativeElement;t.parentElement.insertBefore(this.content.nativeElement,t.nextSibling)},d([n.i(r._27)("contentWrapper"),p("design:type","function"==typeof(e="undefined"!=typeof r.g&&r.g)&&e||Object)],t.prototype,"content",void 0),d([n.i(r.C)(),p("design:type","function"==typeof(i="undefined"!=typeof r._7&&r._7)&&i||Object)],t.prototype,"ngModelChange",void 0),d([n.i(r.E)("input",["$event"]),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],t.prototype,"oninput",null),t=d([n.i(r.G)({selector:"[contactTypeahead]",template:'\n  <ng-content></ng-content>\n  <div class="typeahead" #contentWrapper>\n    <ul *ngIf="typeaheadVisible">\n      <li *ngFor="let item of items" (click)="selectItem(item)">{{item}}</li>\n    </ul>    \n  </div>'}),p("design:paramtypes",["function"==typeof(a="undefined"!=typeof r.g&&r.g)&&a||Object,"function"==typeof(c="undefined"!=typeof f.a&&f.a)&&c||Object])],t);var e,i,a,c}()},503:function(t,e,n){"use strict";var r=n(0),o=n(192),i=n(40),a=n(214),c=n(96),s=n(75);n.d(e,"a",function(){return f});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n){this.letterService=t,this.contactService=e,this.router=n,this.letter={to:"",subject:"",body:""}}return t.prototype.ngOnInit=function(){},t.prototype.onSubmit=function(t){var e=this;if(t.valid){var n=t.value.letter,r=null,o=null;this.letterService.send(new a.a(n.subject,n.body,n.to)).subscribe(function(t){r=t._id,o=t.mailbox,e.contactService.addIfNotExist(t.to)},void 0,function(){return e.router.navigate(["/mailbox",o,"view",r])})}},l([n.i(r._27)("f"),u("design:type","function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object)],t.prototype,"myform",void 0),t=l([n.i(r.G)({selector:"app-message-editor",template:n(676),styles:[n(665)],encapsulation:r.c.None}),u("design:paramtypes",["function"==typeof(f="undefined"!=typeof c.a&&c.a)&&f||Object,"function"==typeof(d="undefined"!=typeof s.a&&s.a)&&d||Object,"function"==typeof(p="undefined"!=typeof i.a&&i.a)&&p||Object])],t);var e,f,d,p}()},504:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(96);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.route=t,this.letterService=e}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){void 0!=e.letterId&&t.letterService.get(e.letterId).subscribe(function(e){t.letter=e})})},t=a([n.i(r.G)({selector:"app-message-viewer",template:n(677),styles:[n(666)],encapsulation:r.c.None}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.b&&o.b)&&e||Object,"function"==typeof(s="undefined"!=typeof i.a&&i.a)&&s||Object])],t);var e,s}()},505:function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(214),a=n(96),c=n(75);n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.letterService=t,this.contactService=e,this.router=n}return t.prototype.ngOnInit=function(){},t.prototype.sendReplyRequested=function(t){var e=this,n=null,r=null;this.letterService.send(new i.a(this.sourceLetter.subject,t,this.sourceLetter.from)).subscribe(function(t){n=t._id,r=t.mailbox,e.contactService.addIfNotExist(t.to)},void 0,function(){e.router.navigate(["/mailbox",r,"view",n])})},s([n.i(r.B)(),l("design:type","function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object)],t.prototype,"sourceLetter",void 0),t=s([n.i(r.G)({selector:"app-reply-form",template:n(678),styles:[n(667)]}),l("design:paramtypes",["function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object,"function"==typeof(f="undefined"!=typeof c.a&&c.a)&&f||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object])],t);var e,u,f,d}()},506:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},507:function(t,e,n){"use strict";var r=n(521),o=(n.n(r),n(514)),i=(n.n(o),n(510)),a=(n.n(i),n(516)),c=(n.n(a),n(515)),s=(n.n(c),n(513)),l=(n.n(s),n(512)),u=(n.n(l),n(520)),f=(n.n(u),n(509)),d=(n.n(f),n(508)),p=(n.n(d),n(518)),h=(n.n(p),n(511)),b=(n.n(h),n(519)),g=(n.n(b),n(517)),m=(n.n(g),n(522)),v=(n.n(m),n(712));n.n(v)},659:function(t,e){t.exports=".panel{\r\n    padding:10px;\r\n    margin-top:10px;\r\n}\r\n\r\n.input-group{\r\n    margin-top:7px;\r\n    margin-bottom:7px;\r\n}"},660:function(t,e){t.exports=".ng-dropdown select{\r\n      border:0 !important;\r\n      width:100px; \r\n}"},661:function(t,e){t.exports=".input-group{\r\n    width:100%;\r\n}\r\n\r\n.panel-add-contact{\r\n    margin-top:10px;\r\n    margin-left:0px;\r\n    margin-right:0px;\r\n}"},662:function(t,e){t.exports=".inbox{\r\n    padding-top:3px;\r\n}\r\n.pull-right{\r\n    margin-left:4px;\r\n}"},663:function(t,e){t.exports=".contact-goups{\r\n    height:200px;\r\n}"},664:function(t,e){t.exports=".inbox{\r\n    margin-top:6px;\r\n    padding-top:3px;\r\n}"},665:function(t,e){t.exports="\r\n.jumbotron{\r\n    margin-top:10px;\r\n    padding-top:15px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.row{\r\n    margin:3px 0px;\r\n}\r\n\r\ntextarea{\r\n    width:100%;\r\n}\r\n\r\ninput{\r\n    width:100%;\r\n}\r\n\r\n.typeahead{\r\n    position:absolute;\r\n    top:46px;\r\n    left:167px;\r\n    z-index:10;\r\n}\r\n\r\n.typeahead ul{\r\n    background:white;\r\n    border:1px black solid;\r\n    padding:4px 10px 0px 30px;\r\n}\r\n\r\n.typeahead li{\r\n    border-bottom:1px solid black;\r\n}"},666:function(t,e){t.exports=".inbox{\r\n    margin-top:15px;\r\n}\r\n\r\n.jumbotron{\r\n    padding-top:5px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.control-label{\r\n    font-weight:bold;\r\n}";
},667:function(t,e){t.exports=".reply-form{\r\n    width:100%;\r\n}"},668:function(t,e){t.exports='<div class="col-sm-4"></div>\r\n\r\n<div class="panel panel-default col-sm-4 text-center" *ngIf = "!authStorageService.isLoggedIn">\r\n\r\n  <div class="input-group">\r\n    <span class="input-group-addon" id="basic-login">Login</span>\r\n    <input type="text" class="form-control" aria-describedby="basic-login" [ngModel]="login" required>\r\n  </div>\r\n  <div class="input-group">\r\n    <span class="input-group-addon" id="basic-pass">Pass</span>\r\n    <input type="password" class="form-control" aria-describedby="basic-pass" [ngModel]="password" required>\r\n  </div>\r\n\r\n  <div class="input-group">\r\n      <button class="compose btn btn-danger" (click)="signIn()">Login</button>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class="col-sm-4"></div>'},669:function(t,e){t.exports='<div class="container-fluid">\r\n  <header class="row">\r\n    <div class="logo col-sm-2">\r\n      <img src="images/google.png" alt="Google">\r\n    </div><!-- logo -->\r\n\r\n    <div class="search-bar col-sm-6" *ngIf="isLoggedIn">\r\n      <div class="input-group">\r\n        <input type="text" class="form-control" placeholder="Search for..." (input)="searchValueEntered($event.target.value)">\r\n        <span class="input-group-btn">\r\n          <button class="btn btn-main">\r\n            <span class="glyphicon glyphicon-search"></span>\r\n          </button>\r\n        </span>\r\n      </div><!-- /input-group -->\r\n    </div><!-- search-bar -->\r\n\r\n    <div class="profile col-sm-4"  *ngIf="isLoggedIn">\r\n      <ul class="profile-icons list-inline pull-right">\r\n        <li>Nizar</li>\r\n        <li>\r\n          <span class="glyphicon glyphicon-th"></span>\r\n        </li>\r\n        <li class="bell">\r\n          <span class="glyphicon glyphicon-bell"></span>\r\n        </li>\r\n        <li>\r\n          <img src="images/profile.jpg" class="img-circle">\r\n        </li>\r\n      </ul>\r\n    </div><!-- profile -->\r\n  </header>\r\n\r\n  <div class="control-bar row" *ngIf="isLoggedIn">\r\n    <div class="menu col-sm-2">\r\n\r\n      <div class="ng-dropdown ">\r\n        <select (change)="modeChanged($event.target.value)">\r\n          <option *ngFor="let mode of modes" [value]="mode.id">{{mode.title}}</option>\r\n        </select>\r\n      </div>\r\n\r\n    </div><!-- menu -->\r\n\r\n    <div class="controls col-sm-10">\r\n      <ul class="control-list list-inline">\r\n        <li *ngIf="navigateBackAvailable">\r\n          <button class="btn btn-control">\r\n            <span class="glyphicon glyphicon-menu-left"></span>\r\n          </button>\r\n        </li>\r\n        <li *ngIf="selectManyAvailable">\r\n          <button class="btn btn-control">\r\n            <input type="checkbox" class="mail-select" (change)="selectionChanged($event.target.checked)">\r\n          </button>\r\n        </li>\r\n        <li *ngIf="deleteAvailable">\r\n          <button class="btn btn-control" (click)="controlPanel.deleteRaise()">\r\n            <span class="glyphicon glyphicon-trash"></span>\r\n          </button>\r\n        </li>\r\n        <li *ngIf="moreActionsAvailable">\r\n          <button class="text-btn btn btn-control">\r\n            <strong>More</strong>\r\n            <span class="caret"></span>\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div><!-- controls -->\r\n  </div><!-- control-bar -->\r\n\r\n  <router-outlet></router-outlet>\r\n\r\n</div>'},670:function(t,e){t.exports='<div class="inbox col-sm-9 panel panel-default panel-add-contact">\n\n  <form class="panel-body" novalidate [formGroup]="addContactForm" (ngSubmit)="onSubmit(addContactForm);">\n    <div class="form-group" formGroupName="main">\n        <div class="col-sm-4">\n          <div class="input-group">\n            <span class="input-group-addon" id="basic-addon1">Name</span>\n            <input type="text" class="form-control" formControlName="fullname" placeholder="Fullname">\n          </div>\n          <div class="label label-danger" *ngIf="addContactForm.get(\'main\').get(\'fullname\').touched && addContactForm.get(\'main\').get(\'fullname\').hasError(\'required\')">\n            Name is required\n          </div>\n          <div class="label label-danger" *ngIf="addContactForm.get(\'main\').get(\'fullname\').touched && addContactForm.get(\'main\').get(\'fullname\').hasError(\'minlength\')">\n            Minimum of 2 characters\n          </div>\n        </div>\n        <div class="col-sm-7">\n          <div class="input-group">\n            <span class="input-group-addon" id="basic-addon1">@</span>\n            <input type="email" class="form-control" formControlName="email" placeholder="Email">\n          </div>\n          <div class="label label-danger" *ngIf="addContactForm.get(\'main\').get(\'email\').touched && addContactForm.get(\'main\').get(\'email\').hasError(\'required\')">\n            Email is required\n          </div>\n          <div class="label label-danger" *ngIf="addContactForm.get(\'main\').get(\'email\').touched && addContactForm.get(\'main\').get(\'email\').hasError(\'pattern\')">\n            Email is valid\n          </div>\n        </div>\n        <div class="col-sm-1">\n          <button class="btn btn-defaul" type="submit" [disabled]="addContactForm.invalid">Add</button>\n        </div>\n    </div>\n  </form>\n\n</div>'},671:function(t,e){t.exports='<div class="inbox col-sm-9 panel panel-default">\r\n  <ul class="list-unstyled">\r\n    <li class="email-item row unread" *ngFor="let contact of contacts|contactFilter:filterValue">\r\n\r\n      <form #f="ngForm" (ngSubmit)="updateRequested(f)">\r\n        <input type="hidden" name="_id" [ngModel]="contact._id">\r\n        <div class="people col-sm-4">\r\n          <ul class="mail-icons list-inline">\r\n            <li>\r\n              <input type="checkbox" class="mail-select" name="checked" [(ngModel)]="contact.isChecked" *ngIf="!contact.isEdditing" (change)="selectChanged($event.target.checked)">\r\n            </li>\r\n          </ul>\r\n\r\n          <span class="people-names" *ngIf="!contact.isEdditing">\r\n            {{contact.fullName}}\r\n          </span>\r\n          <input type="text" name="newFullName" *ngIf="contact.isEdditing" [(ngModel)]="contact.newFullName" required minlength="2">\r\n        </div>\r\n\r\n        <div class="message col-sm-6">\r\n          <span class="people-names" *ngIf="!contact.isEdditing">\r\n            {{contact.email}}\r\n          </span>\r\n          <input type="text" name="newEmail" *ngIf="contact.isEdditing" [(ngModel)]="contact.newEmail" required pattern="[a-zA-Z0-9_.]+@[a-zA-Z0-9_.]+\\.[a-zA-Z]+">\r\n        </div>\r\n\r\n        <div class="date col-sm-2">\r\n          <button type="button" class="btn btn-xs pull-right" *ngIf="!contact.isEdditing" (click)="deleteRequested(contact)">\r\n            <span class="glyphicon glyphicon-trash"></span>\r\n          </button>\r\n          <button type="button" class="btn btn-xs pull-right" *ngIf="!contact.isEdditing" (click)="contact.isEdditing = true">\r\n            <span class="glyphicon glyphicon-pencil"></span>\r\n          </button>\r\n          <button type="reset" class="btn btn-xs pull-right" *ngIf="contact.isEdditing" (click)="contact.isEdditing = false; contact.cancelEdit();">\r\n            <span class="glyphicon glyphicon-remove"></span>\r\n          </button>\r\n          <button type="submit" class="btn btn-xs pull-right" *ngIf="contact.isEdditing">\r\n            <span class="glyphicon glyphicon-ok"></span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n    </li>\r\n\r\n  </ul>\r\n</div>'},672:function(t,e){t.exports='<div class="mail row">\n\n    <div class="sidebar col-sm-2 contact-goups">\n      <a class="compose btn btn-danger" [routerLink]="[\'/mailbox\', mailboxId, \'new\']">Compose</a>\n    </div>\n\n    <app-add-contact (contactAdded)="contacatList.addContact($event)"></app-add-contact>\n\n    <app-contact-list #contacatList></app-contact-list>\n\n</div>\n'},673:function(t,e){t.exports='<div class="inbox col-sm-9 panel panel-default">\r\n  <ul class="list-unstyled">\r\n    <li class="email-item row unread" *ngFor="let letter of letters|mailBoxLettersFilter:filterValue">\r\n      <div class="people col-sm-3">\r\n        <ul class="mail-icons list-inline">\r\n          <li>\r\n            <input type="checkbox" class="mail-select" [(ngModel)]="letter.isChecked" (change)="selectChanged($event.target.checked)">\r\n          </li>\r\n        </ul>\r\n\r\n        <span class="people-names" (click)="viewMessageRequested(letter)">\r\n          {{letter.from}}\r\n        </span>\r\n      </div><!-- people -->\r\n\r\n      <div class="message col-sm-7" (click)="viewMessageRequested(letter)">\r\n        <div class="clipper">\r\n          <h3>{{letter.subject}}</h3>\r\n          -\r\n          <p>{{letter.body}}</p>\r\n        </div>\r\n      </div><!-- message -->\r\n\r\n      <div class="date col-sm-2">\r\n        <button class="btn btn-xs pull-right" (click)="deleteRequested(letter)">\r\n          <span class="glyphicon glyphicon-trash"></span>\r\n        </button>\r\n      </div><!-- date -->\r\n    </li>\r\n\r\n  </ul>\r\n</div><!-- inbox -->'},674:function(t,e){t.exports='<ul class="inbox-sections list-unstyled">\r\n  <li *ngFor="let mailBox of mailBoxes"><a [routerLink]="[\'/mailbox\', mailBox._id]" routerLinkActive="active">{{mailBox.title}}</a></li>\r\n</ul>'},675:function(t,e){t.exports='<div class="mail row">\r\n\r\n    <div class="sidebar col-sm-2">\r\n        <a class="compose btn btn-danger" [routerLink]="[\'/mailbox\', mailboxId, \'new\']">Compose</a>\r\n        <app-mail-box-list></app-mail-box-list>\r\n    </div><!-- sidebar -->\r\n\r\n    <router-outlet></router-outlet>\r\n\r\n</div><!-- mail -->'},676:function(t,e){t.exports='<form #f="ngForm" (ngSubmit)="onSubmit(f)">\r\n\r\n  <div class="inbox col-sm-9 jumbotron">\r\n  \r\n    <div ngModelGroup="letter" #g="ngModelGroup">\r\n      <div class="row">\r\n        <span class="control-label col-sm-1">To:</span>\r\n        <input class="col-sm-11" type="email" name="to" placeholder="to" [(ngModel)]="letter.to" required contactTypeahead>\r\n      </div>\r\n      <div class="row">\r\n        <span class="control-label col-sm-1">Subject:</span>\r\n        <input class="col-sm-11" type="text" name="subject" placeholder="subject" [ngModel]="letter.subject" required>\r\n      </div>\r\n      <div class="row">\r\n        <br/>\r\n        <textarea name="body" rows="10" placeholder="message" [ngModel]="letter.body"></textarea>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class="row">\r\n      <button class="btn btn-primary">\r\n        <span>Send</span>\r\n      </button>\r\n    </div>\r\n  </div><!-- inbox -->\r\n</form>'},677:function(t,e){t.exports='<div class="inbox col-sm-10 jumbotron">\r\n  \r\n  <div class="row">\r\n      <h4>{{letter?.subject}}</h4>\r\n  </div>\r\n  <div class="row">\r\n    <span class="control-label">from: {{letter?.from}}</span>\r\n  </div>\r\n  <div class="row">\r\n    <br/>\r\n    {{letter?.body}}\r\n  </div>\r\n\r\n  <br/>\r\n  <hr/>\r\n  <app-reply-form [sourceLetter]="letter"></app-reply-form>\r\n</div><!-- inbox -->'},678:function(t,e){t.exports='  <div class="row">\r\n    <textarea class="reply-form" rows="10" placeholder="reply" #replyBody></textarea>\r\n  </div>\r\n  <div class="row">\r\n    <button class="btn btn-primary" (click)="sendReplyRequested(replyBody.value);">\r\n      <span>Send</span>\r\n    </button>\r\n  </div>'},713:function(t,e,n){t.exports=n(383)},75:function(t,e,n){"use strict";var r=n(0),o=n(132),i=n(5),a=(n.n(i),n(103)),c=(n.n(a),n(689)),s=(n.n(c),n(234)),l=(n.n(s),n(235)),u=(n.n(l),n(140));n.d(e,"a",function(){return p});var f=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){this.http=t}return t.prototype.getAll=function(){return this.http.get("http://test-api.javascript.ru/v1/dethtroll/users").map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from(t)}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.find=function(t,e){return void 0===e&&(e=5),this.http.get("http://test-api.javascript.ru/v1/dethtroll/users").map(function(t){return t.json()}).map(function(n){return n.map(function(t){return t.email}).filter(function(e){return e.toLowerCase().indexOf(t.toLowerCase())!==-1}).slice(0,e)}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.get=function(t){return this.http.get("http://test-api.javascript.ru/v1/dethtroll/users/"+t).map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from([t])}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.add=function(t){return this.http.post("http://test-api.javascript.ru/v1/dethtroll/users/",t).map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from([t])}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.addIfNotExist=function(t){var e=this,n=t.slice(0,t.indexOf("@")),r=null;this.getAll().filter(function(e){return e.email===t}).subscribe(function(t){return r=t},void 0,function(){null===r&&e.add(new u.a(n,t)).subscribe(function(t){return t})})},t.prototype.update=function(t){return this.http.patch("http://test-api.javascript.ru/v1/dethtroll/users/"+t._id,t).map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from([t])}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.delete=function(t){var e=this;return i.Observable.from(t).map(function(t){return e.http.delete("http://test-api.javascript.ru/v1/dethtroll/users/"+t._id)}).mergeMap(function(t){return t}).filter(function(t){return t.ok}).map(function(t){return t.url.slice(t.url.lastIndexOf("/")+1)}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t=f([n.i(r.b)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()},96:function(t,e,n){"use strict";var r=n(0),o=n(132),i=n(5),a=(n.n(i),n(685)),c=(n.n(a),n(368)),s=(n.n(c),n(103)),l=(n.n(s),n(235)),u=(n.n(l),n(234)),f=(n.n(u),n(369)),d=(n.n(f),n(214));n.d(e,"a",function(){return b});var p=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t){this.http=t}return t.prototype.getAll=function(t){return this.http.get("http://test-api.javascript.ru/v1/dethtroll/letters/").map(function(t){return t.json()}).mergeMap(function(t){return i.Observable.from(t.map(function(t){var e=new d.a(t.subject,t.body,t.to,t.mailbox,t._id);return e}))}).filter(function(e){return e.mailbox==t}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.get=function(t){return this.http.get("http://test-api.javascript.ru/v1/dethtroll/letters/"+t).map(function(t){return t.json()}).mergeMap(function(t){var e=new d.a(t.subject,t.body,t.to,t.mailbox,t._id);return i.Observable.from([e])}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.send=function(t){return t.mailbox="58920c629de15a250410f6b9",this.http.post("http://test-api.javascript.ru/v1/dethtroll/letters/",t).map(function(t){return t.json()}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t.prototype.delete=function(t){var e=this;return i.Observable.from(t).map(function(t){return e.http.delete("http://test-api.javascript.ru/v1/dethtroll/letters/"+t._id)}).mergeMap(function(t){return t}).filter(function(t){return t.ok}).map(function(t){return t.url.slice(t.url.lastIndexOf("/")+1)}).catch(function(t,e){return console.error(t),i.Observable.throw(t)})},t=p([n.i(r.b)(),h("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object])],t);var e}()}},[713]);
//# sourceMappingURL=main.e4cca900ecf64f4a5c77.bundle.map